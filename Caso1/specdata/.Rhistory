}
completos("specdata", 5:8)
setwd("C:/Users/Naira/Documents/GitHub/Programacion_Actuarial_III//Caso1/specdata")
completos <- function(directorio,id=1:332){
num<- c()
num2<-c()
for(i in id){
if(i>=1 && i<10){NombreArchivo<-paste("00", i, ".csv", sep="")}
else { if(i>=10 && i<100){NombreArchivo<-paste("0", i, ".csv", sep="")}
else {if(i>=100 && i<=332){NombreArchivo<-paste( i, ".csv", sep="")}} }
LeerArchivo <- read.csv(NombreArchivo)
columnas<-LeerArchivo[,2:3]#extraemos las columnas 2 y 3
y<-complete.cases(columnas) #vectorlogico con los casos completos
comp<-columnas[y,] #extrae de las dos columas los datos completos
filas<-nrow(comp) #cuenta el numero de monitores completos
num<-c(num,i) #en este vector vamos almacenando los id´s
num2<-c(num2,filas)#en este vector almacenamos los numero casos completos
}
tabla<-data.frame(id=num,nobs=num2)
tabla
}
#probamos la funcion con
completos("spectdata",5:8)
x<-airquality(,1:2)
x<-airquality[,1:2]
x
y<-complete.cases(x)
y
m<-x[y,]
m
correlacion<-cor(m)
correlacion
setwd("C:/Users/Naira/Documents/GitHub/Programacion_Actuarial_III//Caso1/specdata")
corr <- function(directorio,horizonte=0){
vector<-c()
for(i in 1:332){
if(i>=1 && i<10){NombreArchivo<-paste("00", i, ".csv", sep="")}
else { if(i>=10 && i<100){NombreArchivo<-paste("0", i, ".csv", sep="")}
else {if(i>=100 && i<=332){NombreArchivo<-paste( i, ".csv", sep="")}} }
LeerArchivo <- read.csv(NombreArchivo)
columnas<-LeerArchivo[,2:3]#extraemos las columnas 2 y 3
y<-complete.cases(columnas) #vectorlogico con los casos completos
comp<-columnas[y,] #extrae de las dos columas los datos completos
filas<-nrow(comp) #cuenta el numero de monitores completos
#vamos a compar con el horizonte
if(filas)>horizonte{correlacion<-cor(comp)}
vector<-c(vector,correlacion)
}
vector
}
cor(m[,2],m[,3])
cor(m)
setwd("C:/Users/Naira/Documents/GitHub/Programacion_Actuarial_III//Caso1/specdata")
corr <- function(directorio,horizonte=0){
vector<-c()
for(i in 1:332){
if(i>=1 && i<10){NombreArchivo<-paste("00", i, ".csv", sep="")}
else { if(i>=10 && i<100){NombreArchivo<-paste("0", i, ".csv", sep="")}
else {if(i>=100 && i<=332){NombreArchivo<-paste( i, ".csv", sep="")}} }
LeerArchivo <- read.csv(NombreArchivo)
columnas<-LeerArchivo[,2:3]#extraemos las columnas 2 y 3
y<-complete.cases(columnas) #vectorlogico con los casos completos
comp<-columnas[y,] #extrae de las dos columas los datos completos
filas<-nrow(comp) #cuenta el numero de monitores completos
#vamos a compar con el horizonte
if(filas)>horizonte{correlacion<-cor(comp)}
vector<-c(vector,correlacion)
}
vector
}
#Probamos la funcion con estos valores
corr("specdata",300)
setwd("C:/Users/Naira/Documents/GitHub/Programacion_Actuarial_III//Caso1/specdata")
corr <- function(directorio,horizonte=0){
vector<-c()
for(i in 1:332){
if(i>=1 && i<10){NombreArchivo<-paste("00", i, ".csv", sep="")}
else { if(i>=10 && i<100){NombreArchivo<-paste("0", i, ".csv", sep="")}
else {if(i>=100 && i<=332){NombreArchivo<-paste( i, ".csv", sep="")}} }
LeerArchivo <- read.csv(NombreArchivo)
columnas<-LeerArchivo[,2:3]#extraemos las columnas 2 y 3
y<-complete.cases(columnas) #vectorlogico con los casos completos
comp<-columnas[y,] #extrae de las dos columas los datos completos
filas<-nrow(comp) #cuenta el numero de monitores completos
#vamos a compar con el horizonte
if(filas)>horizonte{correlacion<-cor(comp)}
vector<-c(vector,correlacion)
}
vector
}
y<-complete.cases(airquality[,1:2])
y
m<-airquality[y,]
m
airquality[,1:2]
y<-complete.cases(airquality[,1:2])
m<-airquality[,1:2][y,]
m
vec1<-c(m[,1])
vec1
vec2<-c(m[,2])
vec2
vec3<-c(m[,Ozone])
cor(vec1,vec2)
cor(m)
setwd("C:/Users/Naira/Documents/GitHub/Programacion_Actuarial_III//Caso1/specdata")
corr <- function(directorio,horizonte=0){
vector<-c()
for(i in 1:332){
if(i>=1 && i<10){NombreArchivo<-paste("00", i, ".csv", sep="")}
else { if(i>=10 && i<100){NombreArchivo<-paste("0", i, ".csv", sep="")}
else {if(i>=100 && i<=332){NombreArchivo<-paste( i, ".csv", sep="")}} }
LeerArchivo <- read.csv(NombreArchivo)
columnas<-LeerArchivo[,2:3]#extraemos las columnas 2 y 3
y<-complete.cases(columnas) #vectorlogico con los casos completos
comp<-columnas[y,] #extrae de las dos columas los datos completos
filas<-nrow(comp) #cuenta el numero de monitores completos
#vamos a compar con el horizonte
if(filas>horizonte){
x<-c(comp[,2]) #vectore con los valores de la colum sulfate
y<-c(comp[,3]) #vector con las colm de nitrate
correlacion<-cor(x,y)
}
vector<-c(vector,correlacion)
}
vector
}
#Probamos la funcion con estos valores
corr("specdata",300)
setwd("C:/Users/Naira/Documents/GitHub/Programacion_Actuarial_III//Caso1/specdata")
corr <- function(directorio,horizonte=0){
vector<-c()
for(i in 1:332){
if(i>=1 && i<10){NombreArchivo<-paste("00", i, ".csv", sep="")}
else { if(i>=10 && i<100){NombreArchivo<-paste("0", i, ".csv", sep="")}
else {if(i>=100 && i<=332){NombreArchivo<-paste( i, ".csv", sep="")}} }
LeerArchivo <- read.csv(NombreArchivo)
columnas<-LeerArchivo[,2:3]#extraemos las columnas 2 y 3
y<-complete.cases(columnas) #vectorlogico con los casos completos
comp<-columnas[y,] #extrae de las dos columas los datos completos
filas<-nrow(comp) #cuenta el numero de monitores completos
#vamos a compar con el horizonte
if(filas >= horizonte){
x<-c(comp[,2]) #vectore con los valores de la colum sulfate
y<-c(comp[,3]) #vector con las colm de nitrate
correlacion<-cor(x,y)
}
vector<-c(vector,correlacion)
}
vector
}
#Probamos la funcion con estos valores
corr("specdata",300)
setwd("C:/Users/Naira/Documents/GitHub/Programacion_Actuarial_III//Caso1/specdata")
corr <- function(directorio,horizonte=0){
vector<-c()
for(i in 1:332){
if(i>=1 && i<10){NombreArchivo<-paste("00", i, ".csv", sep="")}
else { if(i>=10 && i<100){NombreArchivo<-paste("0", i, ".csv", sep="")}
else {if(i>=100 && i<=332){NombreArchivo<-paste( i, ".csv", sep="")}} }
LeerArchivo <- read.csv(NombreArchivo)
columnas<-LeerArchivo[,2:3]#extraemos las columnas 2 y 3
y<-complete.cases(columnas) #vectorlogico con los casos completos
comp<-columnas[y,] #extrae de las dos columas los datos completos
filas<-nrow(comp) #cuenta el numero de monitores completos
#vamos a compar con el horizonte
if(filas >= horizonte){
x<-c(comp[,1]) #vectore con los valores de la colum sulfate
y<-c(comp[,2]) #vector con las colm de nitrate
correlacion<-cor(x,y)
}
vector<-c(vector,correlacion)
}
vector
}
#Probamos la funcion con estos valores
corr("specdata",300)
setwd("C:/Users/Naira/Documents/GitHub/Programacion_Actuarial_III//Caso1/specdata")
corr <- function(directorio,horizonte=0){
vector<-c()
for(i in 1:332){
if(i>=1 && i<10){NombreArchivo<-paste("00", i, ".csv", sep="")}
else { if(i>=10 && i<100){NombreArchivo<-paste("0", i, ".csv", sep="")}
else {if(i>=100 && i<=332){NombreArchivo<-paste( i, ".csv", sep="")}} }
LeerArchivo <- read.csv(NombreArchivo)
columnas<-LeerArchivo[,2:3]#extraemos las columnas 2 y 3
y<-complete.cases(columnas) #vectorlogico con los casos completos
comp<-columnas[y,] #extrae de las dos columas los datos completos
filas<-nrow(comp) #cuenta el numero de monitores completos
#vamos a compar con el horizonte
if(filas >= horizonte){
x<-c(comp[,1]) #vectore con los valores de la colum sulfate
y<-c(comp[,2]) #vector con las colm de nitrate
correlacion<-cor(x,y)
}
vector<-c(vector,correlacion)
}
vector
}
#Probamos la funcion con estos valores
corr("specdata",700)
setwd("C:/Users/Naira/Documents/GitHub/Programacion_Actuarial_III//Caso1/specdata")
setwd("C:/Users/EILEEN/Desktop/Programación Actuarial lll/Programacion_Actuarial_lll_OT16/Caso1/specdata")
corr <- function(directorio,horizonte=0){
id2 <- vector("character")
result <- vector("numeric")
x2 <- vector("numeric")
x3 <- data.frame()
for (i in 1:332){
if (i>=1 && i<10){ id2[i] <- paste("00",i,".csv", sep="") }
else { if (i>=10 && i<100){ id2[i] <- paste("0",i,".csv", sep="") }
else { id2[i] <- paste(i,".csv", sep="") } }
y <- read.csv(id2[i])
z <- cbind(y[,2:3])
todos <- complete.cases(z)
x <- z[todos,]
x1 <- nrow(x)
if (x1>=horizonte){ x3 <- cor(x) }
x2 <- x3[1,2]
result <- c(result,x2)
}
result
}
corr("specdata",150)
setwd("C:/Users/EILEEN/Desktop/Programación Actuarial lll/Programacion_Actuarial_lll_OT16/Caso1/specdata")
corr <- function(directorio,horizonte=0){
id2 <- vector("character")
result <- vector("numeric")
x2 <- vector("numeric")
x3 <- data.frame()
for (i in 1:332){
if (i>=1 && i<10){ id2[i] <- paste("00",i,".csv", sep="") }
else { if (i>=10 && i<100){ id2[i] <- paste("0",i,".csv", sep="") }
else { id2[i] <- paste(i,".csv", sep="") } }
y <- read.csv(id2[i])
z <- cbind(y[,2:3])
todos <- complete.cases(z)
x <- z[todos,]
x1 <- nrow(x)
if (x1>=horizonte){ x3 <- cor(x) }
x2 <- x3[1,2]
result <- c(result,x2)
}
result
}
corr("specdata",150)
setwd("C:/Users/Naira/Documents/GitHub/Programacion_Actuarial_III//Caso1/specdata")
corr <- function(directorio,horizonte=0){
id2 <- vector("character")
result <- vector("numeric")
x2 <- vector("numeric")
x3 <- data.frame()
for (i in 1:332){
if (i>=1 && i<10){ id2[i] <- paste("00",i,".csv", sep="") }
else { if (i>=10 && i<100){ id2[i] <- paste("0",i,".csv", sep="") }
else { id2[i] <- paste(i,".csv", sep="") } }
y <- read.csv(id2[i])
z <- cbind(y[,2:3])
todos <- complete.cases(z)
x <- z[todos,]
x1 <- nrow(x)
if (x1>=horizonte){ x3 <- cor(x) }
x2 <- x3[1,2]
result <- c(result,x2)
}
result
}
corr("specdata",150)
setwd("C:/Users/Naira/Documents/GitHub/Programacion_Actuarial_III//Caso1/specdata")
corr <- function(directorio,horizonte=0){
vector<-c()
for(i in 1:332){
if(i>=1 && i<10){NombreArchivo<-paste("00", i, ".csv", sep="")}
else { if(i>=10 && i<100){NombreArchivo<-paste("0", i, ".csv", sep="")}
else {if(i>=100 && i<=332){NombreArchivo<-paste( i, ".csv", sep="")}} }
LeerArchivo <- read.csv(NombreArchivo)
columnas<-LeerArchivo[,2:3]#extraemos las columnas 2 y 3
y<-complete.cases(columnas) #vectorlogico con los casos completos
comp<-columnas[y,] #extrae de las dos columas los datos completos
filas<-nrow(comp) #cuenta el numero de monitores completos
#vamos a compar con el horizonte
if(filas >= horizonte){
x<-c(comp[,1]) #vectore con los valores de la colum sulfate
y<-c(comp[,2]) #vector con las colm de nitrate
correlacion<-cor(x,y)
}
vector<-c(vector,correlacion)
}
vector
}
#Probamos la funcion con estos valores
corr("specdata",150)
setwd("C:/Users/Naira/Documents/GitHub/Programacion_Actuarial_III//Caso1/specdata")
corr <- function(directorio,horizonte=0){
vector<-c()
for(i in 1:332){
if(i>=1 && i<10){NombreArchivo<-paste("00", i, ".csv", sep="")}
else { if(i>=10 && i<100){NombreArchivo<-paste("0", i, ".csv", sep="")}
else {if(i>=100 && i<=332){NombreArchivo<-paste( i, ".csv", sep="")}} }
LeerArchivo <- read.csv(NombreArchivo)
columnas<-LeerArchivo[,2:3]#extraemos las columnas 2 y 3
y<-complete.cases(columnas) #vectorlogico con los casos completos
comp<-columnas[y,] #extrae de las dos columas los datos completos
filas<-nrow(comp) #cuenta el numero de monitores completos
#vamos a compar con el horizonte
if(filas >= horizonte){
x<-c(comp[,1]) #vectore con los valores de la colum sulfate
y<-c(comp[,2]) #vector con las colm de nitrate
}
correlacion<-cor(x,y)
vector<-c(vector,correlacion)
}
vector
}
#Probamos la funcion con estos valores
corr("specdata",150)
setwd("C:/Users/Naira/Documents/GitHub/Programacion_Actuarial_III//Caso1/specdata")
corr <- function(directorio,horizonte=0){
vector<-c()
for(i in 1:332){
if(i>=1 && i<10){NombreArchivo<-paste("00", i, ".csv", sep="")}
else { if(i>=10 && i<100){NombreArchivo<-paste("0", i, ".csv", sep="")}
else {if(i>=100 && i<=332){NombreArchivo<-paste( i, ".csv", sep="")}} }
LeerArchivo <- read.csv(NombreArchivo)
columnas<-LeerArchivo[,2:3]#extraemos las columnas 2 y 3
y<-complete.cases(columnas) #vectorlogico con los casos completos
comp<-columnas[y,] #extrae de las dos columas los datos completos
filas<-nrow(comp) #cuenta el numero de monitores completos
#vamos a compar con el horizonte
if(filas >= horizonte){
x<-c(comp[,1]) #vectore con los valores de la colum sulfate
y<-c(comp[,2]) #vector con las colm de nitrate
correlacion<-cor(x,y)
}
vector<-c(vector,correlacion)
}
vector
}
#Probamos la funcion con estos valores
corr("specdata",150)
corr <- function(directorio,horizonte=0) {
c1 <- c()
corfinal<- c()
vecfinal <-c()
for(i in 1:332){
if (i>=1 && i<10){
nombre <- paste("00",i,".csv", sep="")}
else{if(i>=10 && i< 100){
nombre <- paste("0",i,".csv",sep="")}
else{if(i>=100 && i< 333){
nombre <- paste(i,".csv",sep="")}
}
}
abrir <- read.csv(nombre) #abre los archivos asignados
columna <- abrir[,2:3] #extrayendo columnas 2 y 3
y <-complete.cases(columna) #extrayendo columnas con los casos completos(True or false)
final <- columna[y,] # extrae las columnas completas sin los NA
filas <- nrow(final) # cuenta los casos completos
if(filas> horizonte){ # numero de casos completos > horizonte
c1 <- cor(final) } # realiza la correlacion de los datos completos
c2 <- c1[1,2] #Selecciona los elementos del vector
corfinal <- c(corfinal,c2)
}
corfinal
}
corr("specdata",150)
corr("specdata",1000)
corr("specdata",2000)
setwd("C:/Users/Naira/Documents/GitHub/Programacion_Actuarial_III//Caso1/specdata")
corr <- function(directorio,horizonte=0){
vector<-c()
for(i in 1:332){
if(i>=1 && i<10){NombreArchivo<-paste("00", i, ".csv", sep="")}
else { if(i>=10 && i<100){NombreArchivo<-paste("0", i, ".csv", sep="")}
else {if(i>=100 && i<=332){NombreArchivo<-paste( i, ".csv", sep="")}} }
LeerArchivo <- read.csv(NombreArchivo)
columnas<-LeerArchivo[,2:3]#extraemos las columnas 2 y 3
y<-complete.cases(columnas) #vectorlogico con los casos completos
comp<-columnas[y,] #extrae de las dos columas los datos completos
filas<-nrow(comp) #cuenta el numero de monitores completos
#vamos a compar con el horizonte
if(filas > horizonte){
x<-c(comp[,1]) #vectore con los valores de la colum sulfate
y<-c(comp[,2]) #vector con las colm de nitrate
correlacion<-cor(x,y)
vector<-c(vector,correlacion)
}
}
vector
}
#Probamos la funcion con estos valores
corr("specdata",150)
setwd("C:/Users/Naira/Documents/GitHub/Programacion_Actuarial_III//Caso1/specdata")
corr <- function(directorio,horizonte=0){
vector<-c()
for(i in 1:332){
if(i>=1 && i<10){NombreArchivo<-paste("00", i, ".csv", sep="")}
else { if(i>=10 && i<100){NombreArchivo<-paste("0", i, ".csv", sep="")}
else {if(i>=100 && i<=332){NombreArchivo<-paste( i, ".csv", sep="")}} }
LeerArchivo <- read.csv(NombreArchivo)
columnas<-LeerArchivo[,2:3]#extraemos las columnas 2 y 3
y<-complete.cases(columnas) #vectorlogico con los casos completos
comp<-columnas[y,] #extrae de las dos columas los datos completos
filas<-nrow(comp) #cuenta el numero de monitores completos
#vamos a compar con el horizonte
if(filas > horizonte){
x<-c(comp[,1]) #vectore con los valores de la colum sulfate
y<-c(comp[,2]) #vector con las colm de nitrate
correlacion<-cor(x,y)
vector<-c(vector,correlacion)
}
}
vector
}
#Probamos la funcion con estos valores
corr("specdata",400)
setwd("C:/Users/Naira/Documents/GitHub/Programacion_Actuarial_III//Caso1/specdata")
corr <- function(directorio,horizonte=0){
vector<-c()
for(i in 1:332){
if(i>=1 && i<10){NombreArchivo<-paste("00", i, ".csv", sep="")}
else { if(i>=10 && i<100){NombreArchivo<-paste("0", i, ".csv", sep="")}
else {if(i>=100 && i<=332){NombreArchivo<-paste( i, ".csv", sep="")}} }
LeerArchivo <- read.csv(NombreArchivo)
columnas<-LeerArchivo[,2:3]#extraemos las columnas 2 y 3
y<-complete.cases(columnas) #vectorlogico con los casos completos
comp<-columnas[y,] #extrae de las dos columas los datos completos
filas<-nrow(comp) #cuenta el numero de monitores completos
#vamos a compar con el horizonte
if(filas > horizonte){
x<-c(comp[,1]) #vectore con los valores de la colum sulfate
y<-c(comp[,2]) #vector con las colm de nitrate
correlacion<-cor(x,y)
vector<-c(vector,correlacion)
}
}
vector
}
#Probamos la funcion con estos valores
corr("specdata",100)
setwd("C:/Users/Naira/Documents/GitHub/Programacion_Actuarial_III//Caso1/specdata")
corr <- function(directorio,horizonte=0){
vector<-c()
for(i in 1:332){
if(i>=1 && i<10){NombreArchivo<-paste("00", i, ".csv", sep="")}
else { if(i>=10 && i<100){NombreArchivo<-paste("0", i, ".csv", sep="")}
else {if(i>=100 && i<=332){NombreArchivo<-paste( i, ".csv", sep="")}} }
LeerArchivo <- read.csv(NombreArchivo)
columnas<-LeerArchivo[,2:3]#extraemos las columnas 2 y 3
y<-complete.cases(columnas) #vectorlogico con los casos completos
comp<-columnas[y,] #extrae de las dos columas los datos completos
filas<-nrow(comp) #cuenta el numero de monitores completos
#vamos a compar con el horizonte
if(filas > horizonte){
x<-c(comp[,1]) #vectore con los valores de la colum sulfate
y<-c(comp[,2]) #vector con las colm de nitrate
correlacion<-cor(x,y)
vector<-c(vector,correlacion)
}
}
vector
}
#Probamos la funcion con estos valores
corr("specdata",1000)
setwd("C:/Users/Naira/Documents/GitHub/Programacion_Actuarial_III//Caso1/specdata")
corr <- function(directorio,horizonte=0){
vector<-c()
for(i in 1:332){
if(i>=1 && i<10){NombreArchivo<-paste("00", i, ".csv", sep="")}
else { if(i>=10 && i<100){NombreArchivo<-paste("0", i, ".csv", sep="")}
else {if(i>=100 && i<=332){NombreArchivo<-paste( i, ".csv", sep="")}} }
LeerArchivo <- read.csv(NombreArchivo)
columnas<-LeerArchivo[,2:3]#extraemos las columnas 2 y 3
y<-complete.cases(columnas) #vectorlogico con los casos completos
comp<-columnas[y,] #extrae de las dos columas los datos completos
filas<-nrow(comp) #cuenta el numero de monitores completos
#vamos a compar con el horizonte
if(filas > horizonte){
x<-c(comp[,1]) #vectore con los valores de la colum sulfate
y<-c(comp[,2]) #vector con las colm de nitrate
correlacion<-cor(x,y)
vector<-c(vector,correlacion)
}
}
vector
}
#Probamos la funcion con estos valores
corr("specdata",1500)
setwd("C:/Users/Naira/Documents/GitHub/Programacion_Actuarial_III//Caso1/specdata")
corr <- function(directorio,horizonte=0){
vector<-c()
for(i in 1:332){
if(i>=1 && i<10){NombreArchivo<-paste("00", i, ".csv", sep="")}
else { if(i>=10 && i<100){NombreArchivo<-paste("0", i, ".csv", sep="")}
else {if(i>=100 && i<=332){NombreArchivo<-paste( i, ".csv", sep="")}} }
LeerArchivo <- read.csv(NombreArchivo)
columnas<-LeerArchivo[,2:3]#extraemos las columnas 2 y 3
y<-complete.cases(columnas) #vectorlogico con los casos completos
comp<-columnas[y,] #extrae de las dos columas los datos completos
filas<-nrow(comp) #cuenta el numero de monitores completos
#vamos a compar con el horizonte
if(filas > horizonte){
x<-c(comp[,1]) #vectore con los valores de la colum sulfate
y<-c(comp[,2]) #vector con las colm de nitrate
correlacion<-cor(x,y)
vector<-c(vector,correlacion)
}
}
vector
}
#Probamos la funcion con estos valores
corr("specdata",400)
